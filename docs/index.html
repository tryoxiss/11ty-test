<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>home ★ tryoxiss</title>

    <link rel="stylesheet" href="/res/css/style.css">
</head>
<style>

* { 
    color: var(--main-fg)
}

@keyframes background-pan {
  from {
    background-position: 0% center;
  }
  
  to {
    background-position: -200% center;
  }
}

@keyframes scale {
  from, to {
    transform: scale(0);
  }
  
  50% {
    transform: scale(1);
  }
}

@keyframes rotate {
  from {
    transform: rotate(0deg);
  }
  
  to {
    transform: rotate(180deg);
  }
}

body {
    background-color: rgb(10, 10, 10);
    margin: 0px;
    display:inline-block;
}

span { 
    padding: 0 !important;
}

section { 
    margin-left: auto;
    margin-right: auto;
    display:inline-block;
}

.magic-text {
  font-weight: 700;
  margin: 0px;
  padding: 20px;
  text-align: center;
}

.magic-text > .magic {
  display: inline-block;
  position: relative;
}

.magic-text > .magic > .magic-star {
  --size: clamp(20px, 1.5vw, 30px);
  
  animation: scale 700ms ease forwards;
  display: block;
  height: var(--size);
  left: var(--star-left);
  position: absolute;
  top: var(--star-top);
  width: var(--size);
}

.magic-text > .magic > .magic-star > svg {
  animation: rotate 1000ms linear infinite;
  display: block;
  opacity: 0.7;
}

.magic-text > .magic > .magic-star > svg > path {
  fill: var(--blueviolet-2);
}

.magic-text > .magic > .magic-text {
  animation: background-pan 3s linear infinite;
  background: linear-gradient(
    to right,
    var(--blue-2),
    var(--blueviolet-2),
    var(--pink-2),
    var(--violet-2),
    var(--blueviolet-2),
    var(--blue-2)
  );
  background-size: 200%;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  color: transparent;
  white-space: nowrap;
}


/* ********** */

section { 
    height: 100svh;
}

.mask-container { 
    position: relative;
}

.mask-container * { 
    background-size: cover;
    inset: 0;
}

.color-image { 
    position: absolute;

    mask-image: url("/res/img/home/mask-1.png");
}

img {
  max-width: 100%;
  display: block;
}

.mask-container *, .mask-container { 
    z-index: 1;

    user-drag: none;
    -webkit-user-drag: none;
    user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    -ms-user-select: none;
    pointer-events: none;
}

.page-title {
  font-size: clamp(2rem, 5vw + 1rem, 4rem);
  z-index: 2;
}

button {
  padding: 0.5rem 1rem;
  margin-bottom: 3rem;
}

.mask-container {
  position: relative;
}

.color-image {
  position: absolute;
  inset: 0;
  background-image: url("/test/color.jpg");
  background-size: cover;

  -webkit-mask-size: cover;
  -webkit-mask-position: 0% 0%;
  mask-size: cover;
  mask-position: 0% 0%;

  transition: 
    -webkit-mask-position ;

    z-index: -1;
}

.mask-container:hover { 
    -webkit-mask-position: 100% 0%;
    mask-position: -100% 0%;

    animation: addColor 7000ms steps(24) forwards;
}

.mask-animation {
  animation: 
    addColor 7000ms steps(11) forwards;
}

@keyframes add-color {
  0% {
    -webkit-mask-position: 0% 0%;
    mask-position: 0% 0%;
  }
  100% {
    -webkit-mask-position: 100% 0%;
    mask-position: -100% 0%;
  }
}

h1 { 
    font-size: 1.2rem;
}
</style>
<body>
    <a href="/posts/">posts</a>
    <a href="/tools/">Tools</a>
    <a href="/links/">My Links</a>
    <a href="/open-tabletop-engine/attributes/">dnd remade</a>

    <!-- <section class="mask-container mask-animation">
        <div style="background-image: url('/res/img/home/color-1.jpg')">
            <h1 class="magic-text">
                Sometimes I'll start a line of code and I
                <span class="magic">
                <span class="magic-star">
                    <svg viewBox="0 0 512 512">
                    <path d="M512 255.1c0 11.34-7.406 20.86-18.44 23.64l-171.3 42.78l-42.78 171.1C276.7 504.6 267.2 512 255.9 512s-20.84-7.406-23.62-18.44l-42.66-171.2L18.47 279.6C7.406 276.8 0 267.3 0 255.1c0-11.34 7.406-20.83 18.44-23.61l171.2-42.78l42.78-171.1C235.2 7.406 244.7 0 256 0s20.84 7.406 23.62 18.44l42.78 171.2l171.2 42.78C504.6 235.2 512 244.6 512 255.1z" />
                    </svg>
                </span>
                <span class="magic-star">
                    <svg viewBox="0 0 512 512">
                    <path d="M512 255.1c0 11.34-7.406 20.86-18.44 23.64l-171.3 42.78l-42.78 171.1C276.7 504.6 267.2 512 255.9 512s-20.84-7.406-23.62-18.44l-42.66-171.2L18.47 279.6C7.406 276.8 0 267.3 0 255.1c0-11.34 7.406-20.83 18.44-23.61l171.2-42.78l42.78-171.1C235.2 7.406 244.7 0 256 0s20.84 7.406 23.62 18.44l42.78 171.2l171.2 42.78C504.6 235.2 512 244.6 512 255.1z" />
                    </svg>
                </span>
                <span class="magic-star">
                    <svg viewBox="0 0 512 512">
                    <path d="M512 255.1c0 11.34-7.406 20.86-18.44 23.64l-171.3 42.78l-42.78 171.1C276.7 504.6 267.2 512 255.9 512s-20.84-7.406-23.62-18.44l-42.66-171.2L18.47 279.6C7.406 276.8 0 267.3 0 255.1c0-11.34 7.406-20.83 18.44-23.61l171.2-42.78l42.78-171.1C235.2 7.406 244.7 0 256 0s20.84 7.406 23.62 18.44l42.78 171.2l171.2 42.78C504.6 235.2 512 244.6 512 255.1z" />
                    </svg>
                </span>
                <span class="magic-text">don't even know</span>
                </span>
                where it's going.
            </h1>
        </div>
        <img class="color-image" src="/res/img/home/color-1.jpg" style="mask-image: url('/res/img/home/mask-1.png'); -webkit-mask-image: url('/res/img/home/mask-1.png');">
    </section>

    <section></section> -->

    <h1 class="magic-text">
        Sometimes I'll start a line of code and I
        <span class="magic">
        <span class="magic-star">
            <svg viewBox="0 0 512 512">
            <path d="M512 255.1c0 11.34-7.406 20.86-18.44 23.64l-171.3 42.78l-42.78 171.1C276.7 504.6 267.2 512 255.9 512s-20.84-7.406-23.62-18.44l-42.66-171.2L18.47 279.6C7.406 276.8 0 267.3 0 255.1c0-11.34 7.406-20.83 18.44-23.61l171.2-42.78l42.78-171.1C235.2 7.406 244.7 0 256 0s20.84 7.406 23.62 18.44l42.78 171.2l171.2 42.78C504.6 235.2 512 244.6 512 255.1z" />
            </svg>
        </span>
        <span class="magic-star">
            <svg viewBox="0 0 512 512">
            <path d="M512 255.1c0 11.34-7.406 20.86-18.44 23.64l-171.3 42.78l-42.78 171.1C276.7 504.6 267.2 512 255.9 512s-20.84-7.406-23.62-18.44l-42.66-171.2L18.47 279.6C7.406 276.8 0 267.3 0 255.1c0-11.34 7.406-20.83 18.44-23.61l171.2-42.78l42.78-171.1C235.2 7.406 244.7 0 256 0s20.84 7.406 23.62 18.44l42.78 171.2l171.2 42.78C504.6 235.2 512 244.6 512 255.1z" />
            </svg>
        </span>
        <span class="magic-star">
            <svg viewBox="0 0 512 512">
            <path d="M512 255.1c0 11.34-7.406 20.86-18.44 23.64l-171.3 42.78l-42.78 171.1C276.7 504.6 267.2 512 255.9 512s-20.84-7.406-23.62-18.44l-42.66-171.2L18.47 279.6C7.406 276.8 0 267.3 0 255.1c0-11.34 7.406-20.83 18.44-23.61l171.2-42.78l42.78-171.1C235.2 7.406 244.7 0 256 0s20.84 7.406 23.62 18.44l42.78 171.2l171.2 42.78C504.6 235.2 512 244.6 512 255.1z" />
            </svg>
        </span>
        <span class="magic-text">don't even know</span>
        </span>
        where it's going.
    </h1>

    <footer>
        <p>Magical text effect by hyperplexed: <a href="https://www.youtube.com/watch?v=yu0Cm4BqQv0">yt</a></p>
    </footer>

    <script>
let index = 0,
    interval = 1000;

const rand = (min, max) => 
    Math.floor(Math.random() * (max - min + 1)) + min;

const animate = star => {
    star.style.setProperty("--star-left", `${rand(-10, 100)}%`);
    star.style.setProperty("--star-top", `${rand(-40, 80)}%`);

    star.style.animation = "none";
    star.offsetHeight;
    star.style.animation = "";
}

/* -- ↓↓↓ Line 16 and on ↓↓↓ -- */

// for(const star of document.getElementsByClassName("magic-star")) {
//     setTimeout(() => {
//         animate(star);
        
//         setInterval(() => animate(star), 1000);
//     }, index++ * (interval / 3))
// }

/* -- ↓↓↓ If you want the sparkle effect to only occur on hover, replace lines 16 and on with this code ↓↓↓ -- */

let timeouts = [],
    intervals = [];

const magic = document.querySelector(".magic");

magic.onmouseenter = () => {
  let index = 1;
  
  for(const star of document.getElementsByClassName("magic-star")) {
    timeouts.push(setTimeout(() => {  
      animate(star);
      
      intervals.push(setInterval(() => animate(star), 1000));
    }, index++ * 300));
  };
}

magic.onmouseleave = onMouseLeave = () => {
  for(const t of timeouts) clearTimeout(t);  
  for(const i of intervals) clearInterval(i);
  
  timeouts = [];
  intervals = [];
}
    </script>
</body>
</html>